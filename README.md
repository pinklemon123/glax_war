# glax_war
AI和人类进行的群星战斗 - Web-based 4X Strategy Game

## 概述
这是一个基于回合制的4X策略游戏（探索-扩张-开发-征服），具有星系地图生成、AI对手、外交系统和声誉机制。

## 功能特性
- **星系地图生成**: 使用网络图算法生成星系
- **回合制游戏**: 玩家和AI轮流行动
- **多种指令**: 殖民、建造、移动、外交、研究
- **AI系统**: 智能AI对手决策
- **资源管理**: 生产、运输、消耗资源
- **外交系统**: 结盟、宣战、贸易
- **声誉机制**: 背叛会影响与其他势力的关系
- **事件日志**: 记录所有游戏事件，支持回放

## 安装

```bash
# 安装依赖
pip install -r requirements.txt

# 运行服务器
python server.py
```

访问 http://localhost:5000 开始游戏

## 游戏规则

### 回合流程
1. 玩家提交指令（殖民/建造/移动/外交/研究）
2. AI决策阶段
3. 结算引擎执行：
   - 资源产出与运输
   - 建造完成
   - 科研进度
   - 外交关系变化
   - 战斗结算
   - 事件与遗迹效果
4. 记录事件日志

### 资源类型
- **能量**: 用于建造和维护
- **矿物**: 用于建造舰船和建筑
- **科研点**: 用于研究科技

### 胜利条件
- 征服所有星球
- 科技胜利
- 外交胜利

## API接口

### GET /api/game/new
创建新游戏

### GET /api/game/state
获取游戏状态

### POST /api/game/command
提交玩家指令

### POST /api/game/end_turn
结束回合

### GET /api/game/events
获取事件日志

## 技术架构
- **后端**: Python + Flask
- **前端**: HTML + JavaScript + Canvas
- **地图引擎**: NetworkX 图算法
- **数据持久化**: JSON文件（可扩展为数据库）
